<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>较真</title>
	<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
</head>
<body>

	<!-- <div id="todo-list-example">

         <form v-on:submit.prevent="addNewTodo" key="haha">
           <label for="new-todo">Add a todo</label>
           <input
            v-model="newTodoText"
            id="new-todo"
            placeholder="E.g. Feed the cat"
           >
            <button>Add</button>
         </form>

         <ul key='kjkj'>
         <li
            is="todo-item"
            v-for="(todo, index) in todos"
            v-bind:key="todo.id"
            v-bind:title="todo.title"
             v-on:remove="todos.splice(index, 1)"
        ></li>
         </ul>
    </div>
 -->


<div id="todo-list-example2">
		
		<form  v-on:submit.prevent="addNewTodo" key="hehe">
			<label for="new-todo">Add a todo</label>
			<input 
			 v-model="newTodoText" 
			 id="new-todo"
			 placeholder="E.g. Feed the cat"
			>
			<button>Add</button>
		</form>

		<ul key='sjss'>
		<li 
			is="todo-item" 
			v-if="todos.length"
			v-for="{todo, index} in todos" 
			v-bind:key="todo.idd" 
			v-bind:title="todo.mk" 
			v-on:remove="todos.splice(index, 1)"
			></li>
		</ul>

	</div>
    
	<script>

		// 完整的TODO list 
		// 组件
		Vue.component('todo-item', {
			template: '\
    <li>\
      {{ title }}\
      <button v-on:click="$emit(\'remove\')">Remove</button>\
    </li>\
  ',
			props: ['title']
		})

	// var vm1 = 	new Vue({
	// 		el: "#todo-list-example",
	// 		data: {
	// 			newTodoText: '',
	// 			todos: [
	// 				{id: 1, title:'Do the dishes'},
	// 				{id: 2, title:'Take out the trash'},
	// 				{id: 3, title:'Mow the lawn'}
	// 			],
	// 			nextTodoId: 4
	// 		},
	// 		methods: {
	// 			addNewTodo: function(){
	// 				this.todos.push({
	// 					id: this.nextTodoId++,
	// 					title: this.newTodoText
	// 				})
	// 				this.newTodoText = ''
	// 			}
	// 		}

	// 	})


	var vm2 = 	new Vue({
			el: "#todo-list-example2",
			data: {
				newTodoText: '',
				todos: [
					{idd: 444, mk:'kdk'},
					{idd: 555, mk:'aaaa'},
					{idd: 666, mk:'5555'}
				],
				nextTodoId: 4
			},
			methods: {
				addNewTodo: function(){
					this.todos.push({
						idd: this.nextTodoId++,
						mk: this.newTodoText
					})
					this.newTodoText = ''
				}
			}

		})
	</script>



	
</body>
</html>